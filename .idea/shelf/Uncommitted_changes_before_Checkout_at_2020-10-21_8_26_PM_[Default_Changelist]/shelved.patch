Index: app/src/main/java/com/example/quickcash/ui/startpage/Login.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.quickcash.ui.startpage;\r\n\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.navigation.fragment.NavHostFragment;\r\n\r\nimport com.example.quickcash.R;\r\n\r\npublic class Login extends AppCompatActivity {\r\n    private Button login;\r\n    private Button signup;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.signin);\r\n\r\n        login = (Button) findViewById(R.id.login);\r\n        signup = (Button) findViewById(R.id.signup);\r\n\r\n        signup.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View v) {\r\n                openSignupPage();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void openSignupPage(){\r\n        Intent intent = new Intent(this, SignUp.class);\r\n        startActivity(intent);\r\n    }\r\n}\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/quickcash/ui/startpage/Login.java	(revision a4080c29290f8a875a427e1bcc110210bf591394)
+++ app/src/main/java/com/example/quickcash/ui/startpage/Login.java	(date 1603322769061)
@@ -3,42 +3,100 @@
 
 import android.content.Intent;
 import android.os.Bundle;
-import android.view.LayoutInflater;
 import android.view.View;
-import android.view.ViewGroup;
 import android.widget.Button;
+import android.widget.EditText;
+import android.widget.TextView;
 
 import androidx.annotation.NonNull;
+import androidx.annotation.VisibleForTesting;
 import androidx.appcompat.app.AppCompatActivity;
-import androidx.fragment.app.Fragment;
-import androidx.navigation.fragment.NavHostFragment;
+import androidx.test.espresso.IdlingResource;
+import androidx.test.espresso.idling.CountingIdlingResource;
 
 import com.example.quickcash.R;
+import com.google.android.gms.tasks.OnCompleteListener;
+import com.google.android.gms.tasks.Task;
+import com.google.firebase.auth.AuthResult;
+import com.google.firebase.auth.FirebaseAuth;
 
 public class Login extends AppCompatActivity {
-    private Button login;
-    private Button signup;
+    FirebaseAuth fbAuth;
+
+    EditText textEmail;
+    EditText textPassword;
+    TextView labelStatusMessage;
+    Button buttonLogin;
+    Button buttonSignUp;
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         setContentView(R.layout.signin);
 
-        login = (Button) findViewById(R.id.login);
-        signup = (Button) findViewById(R.id.signup);
+        // Get UI elements
+        textEmail = findViewById(R.id.textEmail);
+        textPassword = findViewById(R.id.textPassword);
+        labelStatusMessage = findViewById(R.id.labelStatusMessage);
+        buttonLogin = findViewById(R.id.login);
+        buttonSignUp = findViewById(R.id.signup);
 
-        signup.setOnClickListener(new View.OnClickListener(){
+        buttonLogin.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                login();
+            }
+        });
+        buttonSignUp.setOnClickListener(new View.OnClickListener(){
             @Override
             public void onClick(View v) {
                 openSignupPage();
             }
         });
+
+        idlingResource = new CountingIdlingResource("FirebaseCalls");
+
+        fbAuth = FirebaseAuth.getInstance();
     }
 
     public void openSignupPage(){
         Intent intent = new Intent(this, SignUp.class);
         startActivity(intent);
     }
+
+    @VisibleForTesting
+    private CountingIdlingResource idlingResource;  // Idle resource for testing
+
+    protected void login() {
+        idlingResource.increment();
+
+        fbAuth.signInWithEmailAndPassword(textEmail.getText().toString(),
+                textPassword.getText().toString())
+                .addOnCompleteListener(new OnCompleteListener<AuthResult>() {
+                    @Override
+                    public void onComplete(@NonNull Task<AuthResult> task) {
+                        if (task.isSuccessful()) {
+                            labelStatusMessage.setText("Login success, as "
+                                    + fbAuth.getCurrentUser().getEmail());
+                        }
+                        else {
+                            labelStatusMessage.setText("Login failed");
+                        }
+                        idlingResource.decrement();
+                    }
+                });
+    }
+
+    @VisibleForTesting
+    @NonNull
+    public IdlingResource getIdlingResource() {
+        if (idlingResource == null) {
+            idlingResource = new CountingIdlingResource("FirebaseCalls");
+        }
+        return idlingResource;
+    }
+
+
 }
 
 
Index: app/src/androidTest/java/com/example/quickcash/ui/startpage/LoginTest.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/androidTest/java/com/example/quickcash/ui/startpage/LoginTest.java	(date 1603322556795)
+++ app/src/androidTest/java/com/example/quickcash/ui/startpage/LoginTest.java	(date 1603322556795)
@@ -0,0 +1,92 @@
+package com.example.quickcash.ui.startpage;
+
+import androidx.test.core.app.ActivityScenario;
+import androidx.test.espresso.IdlingRegistry;
+import androidx.test.espresso.IdlingResource;
+import androidx.test.ext.junit.rules.ActivityScenarioRule;
+
+import com.example.quickcash.R;
+
+import org.junit.After;
+import org.junit.Before;
+import org.junit.Rule;
+import org.junit.Test;
+
+import static androidx.test.espresso.Espresso.closeSoftKeyboard;
+import static androidx.test.espresso.Espresso.onView;
+import static androidx.test.espresso.action.ViewActions.click;
+import static androidx.test.espresso.action.ViewActions.typeText;
+import static androidx.test.espresso.assertion.ViewAssertions.matches;
+import static androidx.test.espresso.matcher.ViewMatchers.withId;
+import static androidx.test.espresso.matcher.ViewMatchers.withText;
+import static org.junit.Assert.*;
+
+public class LoginTest {
+    static String defaultEmail = "default@quickcash.com";
+    static String defaultPassword = "defaultPass123";
+
+    private IdlingResource idleResource;
+
+    @Rule
+    public ActivityScenarioRule<Login> myActivityRule
+            = new ActivityScenarioRule<>(Login.class);
+
+    @Before
+    public void setup() {
+        myActivityRule.getScenario().onActivity(new ActivityScenario.ActivityAction<Login>() {
+            @Override
+            public void perform(Login activity) {
+                idleResource = activity.getIdlingResource();
+                IdlingRegistry.getInstance().register(idleResource);
+            }
+        });
+    }
+
+    @After
+    public void teardown() {
+        if (idleResource != null) {
+            IdlingRegistry.getInstance().unregister(idleResource);
+        }
+    }
+
+
+    @Test
+    public void testLoginSuccess() {
+        // type in username and password
+        typeEmail(defaultEmail);
+        typePassword(defaultPassword);
+
+        onView(withId(R.id.buttonLogin))
+                .perform(click());
+
+        onView(withId(R.id.labelStatusMessage))
+                .check(matches(withText("Login success, as default@quickcash.com")));
+    }
+
+    @Test
+    public void testLoginFail() {
+        // type in username and password
+        typeEmail(defaultEmail);
+        typePassword(defaultPassword + "wrong");
+
+        onView(withId(R.id.buttonLogin))
+                .perform(click());
+
+        onView(withId(R.id.labelStatusMessage))
+                .check(matches(withText("Login failed")));
+    }
+
+    public void typeEmail(String emailAddress) {
+        onView(withId(R.id.textEmail))
+                .perform(click())
+                .perform(typeText(emailAddress));
+        closeSoftKeyboard();
+    }
+
+    public void typePassword(String password) {
+        onView(withId(R.id.textPassword))
+                .perform(click())
+                .perform(typeText(password));
+        closeSoftKeyboard();
+    }
+}
\ No newline at end of file
